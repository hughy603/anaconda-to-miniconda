# Pre-commit hooks for GitHub Actions workflow validation
# Add this to your .pre-commit-config.yaml file

# Validate GitHub Actions workflows
- repo: local
  hooks:
    # Syntax validation using actionlint
    - id: actionlint
      name: Validate GitHub Actions workflow syntax
      description: Validate GitHub Actions workflow syntax using actionlint
      entry: actionlint
      language: system
      files: ^\.github/workflows/.*\.(yml|yaml)$
      pass_filenames: true

    # Validate changed workflows
    - id: validate-changed-workflows
      name: Validate changed GitHub Actions workflows
      description: Validate changed GitHub Actions workflows using the Python validator
      entry: python -m github_actions_validator.cli --changed-only
      language: system
      files: ^\.github/workflows/.*\.(yml|yaml)$
      pass_filenames: false

    # Validate all workflows (manual)
    - id: validate-all-workflows
      name: Validate all GitHub Actions workflows
      description: Validate all GitHub Actions workflows using the Python validator
      entry: python -m github_actions_validator.cli
      language: system
      files: ^\.github/workflows/.*\.(yml|yaml)$
      pass_filenames: false
      stages: [manual]
